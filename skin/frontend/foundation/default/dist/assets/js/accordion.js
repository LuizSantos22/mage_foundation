(Accordion=Class.create()).prototype={initialize:function(t,e,i){this.container=$(t),this.checkAllow=i||!1,this.disallowAccessToNextSections=!1,this.sections=$$("#"+t+" .section"),this.currentSection=!1,$$("#"+t+" .section "+e).each(function(t){Event.observe(t,"click",this.sectionClicked.bindAsEventListener(this))}.bind(this))},sectionClicked:function(t){this.openSection($(Event.element(t)).up(".section")),Event.stop(t)},openSection:function(t){t=$(t);if((!this.checkAllow||Element.hasClassName(t,"allow"))&&(t.id!=this.currentSection&&(this.closeExistingSection(),this.currentSection=t.id,$(this.currentSection).addClassName("active"),Element.select(t,".a-item")[0].show(),$(this.currentSection).scrollTo(this.currentSection),this.disallowAccessToNextSections)))for(var e=!1,i=0;i<this.sections.length;i++)e&&Element.removeClassName(this.sections[i],"allow"),this.sections[i].id==t.id&&(e=!0)},closeSection:function(t){$(t).removeClassName("active");t=Element.select(t,".a-item");t[0].hide(),Effect.SlideUp(t[0])},openNextSection:function(t){for(section in this.sections){var e=parseInt(section)+1;if(this.sections[section].id==this.currentSection&&this.sections[e])return t&&Element.addClassName(this.sections[e],"allow"),void this.openSection(this.sections[e])}},openPrevSection:function(t){for(section in this.sections){var e=parseInt(section)-1;if(this.sections[section].id==this.currentSection&&this.sections[e])return t&&Element.addClassName(this.sections[e],"allow"),void this.openSection(this.sections[e])}},closeExistingSection:function(){this.currentSection&&this.closeSection(this.currentSection)}};